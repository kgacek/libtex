%\ProvidesPackageRCS $Header: /home/myszka/Dokumenty/teksty/rozne/logotyp/RCS/beamerinnerthemepwr.sty,v 1.2 2009/11/03 11:33:16 myszka Exp myszka $

% Copyright 2003 by Till Tantau <tantau@users.sourceforge.net>
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.
%
% Modified by Wojciech Myszka <Wojciech.Myszka@pwr.wroc.pl>


\mode<presentation>

% Some images:

\pgfdeclareimage[width=14pt,height=12pt]{beamericonbook}{beamericonbook}
\pgfdeclareimage[width=14pt,height=12pt]{beamericonbookshaded}{beamericonbook.20}
\pgfaliasimage{beamericonbook.!20opaque}{beamericonbookshaded}
\pgfaliasimage{beamericonbook.!15opaque}{beamericonbookshaded}
\pgfaliasimage{beamericonbook.!10opaque}{beamericonbookshaded}
\pgfaliasimage{beamericonbook.!5opaque}{beamericonbookshaded}
\pgfaliasimage{beamericonbook.!2opaque}{beamericonbookshaded}
\pgfdeclareimage[width=11pt,height=14pt]{beamericonarticle}{beamericonarticle}
\pgfdeclareimage[width=11pt,height=14pt]{beamericonarticleshaded}{beamericonarticle.20}
\pgfaliasimage{beamericonarticle.!20opaque}{beamericonarticleshaded}
\pgfaliasimage{beamericonarticle.!15opaque}{beamericonarticleshaded}
\pgfaliasimage{beamericonarticle.!10opaque}{beamericonarticleshaded}
\pgfaliasimage{beamericonarticle.!5opaque}{beamericonarticleshaded}
\pgfaliasimage{beamericonarticle.!2opaque}{beamericonarticleshaded}
%
% and more images...
%
%\pgfdeclareimage[height=23mm]{Logo_duze}{logopwrpl}
%\pgfdeclareimage[width=23mm,height=73mm,interpolate=false]{pasek}{pasek}

%% Changes made to accept aspectratio option (31.07.2012)

%% Normalny rozmiar 128x96 4x3
%% Po odjęciu 23x23 mm (log) zostaje105x73 (AxB)
%% Dla 160x90 — 137x67 16x9
%% Dla 160x100 — 137x77 16x10
%% Dla 140x90 — 117x67 14x9
%% Dla 125x100 — 102x77 5x4
%% Dla 135x90 — 112x67 3x2
%% All dimensions calculated assuming constant size of logo (23 mm)
\newlength{\beamer@pwr@A} % 105 (paperwidth-23mm)
\newlength{\beamer@pwr@B} % 73 (paperheight-23mm)
\newlength{\beamer@pwr@C} % 99 C=A-6
\newlength{\beamer@pwr@D} % 96 D=C-3
\newlength{\beamer@pwr@Cpol} % C/2
\newlength{\beamer@pwr@Bes} % B-6
%-------------------------------------------
\setlength{\beamer@pwr@A}{\paperwidth}\addtolength{\beamer@pwr@A}{-23mm}
\setlength{\beamer@pwr@B}{\paperheight}\addtolength{\beamer@pwr@B}{-23mm}%
\setlength{\beamer@pwr@C}{\beamer@pwr@A}\addtolength{\beamer@pwr@C}{-6mm}%
\setlength{\beamer@pwr@D}{\beamer@pwr@C}\addtolength{\beamer@pwr@D}{-3mm}%
\setlength{\beamer@pwr@Cpol}{.5\beamer@pwr@C}% 
\setlength{\beamer@pwr@Bes}{\beamer@pwr@B}\addtolength{\beamer@pwr@Bes}{-6mm}% 
%% Hack to change dimensions to numbers for picture environment (unitlength 1pt)
\def\beamer@pwr@c{\strip@pt\beamer@pwr@C} % C
\def\beamer@pwr@cpol{\strip@pt\beamer@pwr@Cpol} % .5C
\def\beamer@pwr@b{\strip@pt\beamer@pwr@Bes} % b=B-6
%% Scaling of left side picture
\pgfdeclareimage[width=23mm,height=\beamer@pwr@B,interpolate=false]{pasek1}{\beamer@pwr@pasek}

% Title page: pwr

\defbeamertemplate*{title page}{pwr}%[1][wd=105mm,ht=73mm,dp=1ex]
{\vskip -0mm\hskip -12mm\vtop to \beamer@pwr@D{\vbox to 23mm{\pgfuseimage{Logoduze}}%\rule{23mm}{23mm}}%
\vskip-1pt\vbox to \beamer@pwr@B {\pgfuseimage{pasek1}%\usebeamercolor[fg]{title}\rule{23mm}{73mm}%
%Tytul
\hbox to \beamer@pwr@A{\begin{beamercolorbox}[wd=\beamer@pwr@A,dp=0.7ex,ht=\beamer@pwr@B,sep=3mm]{title}
 \unitlength=1pt
 \begin{picture}(\beamer@pwr@c,\beamer@pwr@b)%(99,67)
 \put(\beamer@pwr@cpol,\beamer@pwr@b){\makebox(0,0)[tc]{\parbox{\beamer@pwr@C}{\centering\usebeamerfont{title}\inserttitle\par
  \ifx\insertsubtitle\@empty%
  \else%
   \vskip0.25em%
    {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
   \fi}}}
 \put(\beamer@pwr@cpol,0){\makebox(0,0)[bc]{\parbox{\beamer@pwr@C}{\centering%
 {\usebeamerfont{author}\insertauthor\par}%
 {\usebeamerfont{institute}\insertinstitute\par}%
 {\usebeamerfont{date}\insertdate\par}\vskip0.5em%
 {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}%
}}}
 \end{picture}
\end{beamercolorbox}
}}}}

%wm \defbeamertemplate*{title page}{pwr}%[1][wd=105mm,ht=73mm,dp=1ex]
%wm {\vskip -3mm\hskip -12mm\vtop to 96mm{\vbox to 23mm{\pgfuseimage{Logoduze}}%\rule{23mm}{23mm}}%
%wm \vbox to 73mm {\pgfuseimage{pasek}%\usebeamercolor[fg]{title}\rule{23mm}{73mm}%
%wm %Tytul
%wm \hbox to 105mm{%
%wm %Tlo
%wm {\usebeamercolor[bg]{title}\vrule width 105mm height 73mm\hskip-105mm}%
%wm %Napisy
%wm {\hbox{\hsize=105mm\usebeamercolor[fg]{title}g}
%wm }%
%wm }}}}

%}%
%  \vfill}
%  \begin{centering}
%    \begin{beamercolorbox}[sep=8pt,center,#1]{title}
%      {\usebeamerfont{title}\inserttitle\par}%
%      \ifx\insertsubtitle\@empty%
%      \else%
%        \vskip0.25em%
%        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
%      \fi%
%      \vskip1em\par%
%      {\usebeamerfont{author}\insertauthor\par}%
%      {\usebeamerfont{institute}\insertinstitute\par}%
%      {\usebeamerfont{date}\insertdate\par}\vskip0.5em%
%      {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}%
%      \vfill\null
%    \end{beamercolorbox}%
%  \end{centering}
  \vfill
%}


% Part page: pwr

\defbeamertemplate*{part page}{pwr}[1][]
{
  \begin{centering}
    {\usebeamerfont{part name}\usebeamercolor[fg]{part name}\partname~\insertromanpartnumber}
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center,#1]{part title}
      \usebeamerfont{part title}\insertpart\par
    \end{beamercolorbox}
  \end{centering}
}


% Frame title: pwr

\defbeamertemplate*{frametitle}{pwr}[1][left]
{
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \begin{beamercolorbox}[sep=0.3cm,#1,wd=\the\@tempdima]{frametitle}
    \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
    {\usebeamerfont{frametitle}\insertframetitle\par}%
    {%
      \ifx\insertframesubtitle\@empty%
      \else%
      {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\par}%
      \fi
    }%
    \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
  \end{beamercolorbox}%
}

\def\beamer@fteright{\vskip0.35cm\advance\leftskip by 1.7cm\advance\rightskip by1.7cm}


% Frame title continuations, pwr

\defbeamertemplate*{frametitle continuation}{pwr}{\insertcontinuationcountroman}




%
% Table of contents
%

%wm \defbeamertemplateparent{sections/subsections in toc}{section in toc,subsection in toc}
%wm {}
%wm
%wm \defbeamertemplateparent{sections/subsections in toc shaded}{section in toc shaded,subsection in toc shaded}[1][20]
%wm {[#1]}




% (sub-)section in toc: pwr

\defbeamertemplate*{section in toc}{pwr}
{\inserttocsection\par}

\defbeamertemplate*{subsection in toc}{pwr}
{\leavevmode\leftskip=1.5em\inserttocsubsection\par}


% (sub-)section in toc shaded, pwr

\defbeamertemplate*{section in toc shaded}{pwr}[1][20]
{\begin{colormixin}{#1!parent.bg}\usebeamertemplate{section in toc}\end{colormixin}\unskip}

\defbeamertemplate*{subsection in toc shaded}{pwr}[1][20]
{\begin{colormixin}{#1!parent.bg}\usebeamertemplate{subsection in toc}\end{colormixin}\unskip}





%
% Item
%

%wm \defbeamertemplateparent{items}{itemize items,enumerate items}
%wm {}


% Itemize items

%wm \defbeamertemplateparent{itemize items}{itemize item,itemize subitem,itemize subsubitem}
%wm {}


% Itemize items, pwr

\defbeamertemplate*{itemize item}{pwr}{\scriptsize\raise1.25pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}
\defbeamertemplate*{itemize subitem}{pwr}{\tiny\raise1.5pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}
\defbeamertemplate*{itemize subsubitem}{pwr}{\tiny\raise1.5pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}


% Enumerate items, pwr

%wm \defbeamertemplateparent{enumerate items}{enumerate item,enumerate subitem,enumerate subsubitem,enumerate mini}
%wm {}

\defbeamertemplate*{enumerate item}{pwr}{\insertenumlabel.}
\defbeamertemplate*{enumerate subitem}{pwr}{\insertenumlabel.\insertsubenumlabel}
\defbeamertemplate*{enumerate subsubitem}{pwr}{\insertenumlabel.\insertsubenumlabel.\insertsubsubenumlabel}
\defbeamertemplate*{enumerate mini template}{pwr}{\insertenumlabel}


% Description item width

\defbeamertemplate*{description item}{pwr}{\insertdescriptionitem}



% Itemize/Enumerate body

\defbeamertemplate*{itemize/enumerate body begin}{pwr}{}
\defbeamertemplate*{itemize/enumerate body end}{pwr}{}

\defbeamertemplate*{itemize/enumerate subbody begin}{pwr}{}
\defbeamertemplate*{itemize/enumerate subbody end}{pwr}{}

\defbeamertemplate*{itemize/enumerate subsubbody begin}{pwr}{}
\defbeamertemplate*{itemize/enumerate subsubbody end}{pwr}{}



% Alerted text

\defbeamertemplate*{alerted text begin}{pwr}{\setbeamercolor{local structure}{parent=alerted text}}



% Structured text

% empyt pwrs


% Bibliography items

\defbeamertemplate*{bibliography item}{pwr}
{\lower3.5pt\hbox{\hskip2pt\pgfuseimage{beamericonarticle}\hskip1pt}}

\defbeamertemplate*{bibliography entry article}{pwr}{}
\defbeamertemplate*{bibliography entry title}{pwr}{\par}
\defbeamertemplate*{bibliography entry location}{pwr}{\par}
\defbeamertemplate*{bibliography entry note}{pwr}{\par}


% Buttons

\newdimen\beamer@dima%
\newdimen\beamer@dimb%

\defbeamertemplate*{button}{pwr}
{%
  \setbox\beamer@tempbox=\hbox{{\insertbuttontext}}%
  \ht\beamer@tempbox=6pt%
  \dp\beamer@tempbox=0pt%
  \setbox\beamer@tempbox=\vbox{\box\beamer@tempbox\vskip2pt}%
  \beamer@tempdim=\wd\beamer@tempbox%
  \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2pt
  \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4pt
  \begin{pgfpicture}{-4pt}{0pt}{\the\beamer@tempdim}{8pt}
    \color{bg}
    \pgfsetlinewidth{0.8pt}
    \pgfqmoveto{0}{0}
    \pgfqcurveto{-2.2}{0}{-4}{1.8}{-4}{4}
    \pgfqcurveto{-4}{6.2}{-2.2}{8}{0}{8}
    \pgflineto{\pgfpoint{\the\beamer@tempdim}{8pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dima}{8pt}}%
    {\pgfpoint{\the\beamer@dimb}{6.2pt}}%
    {\pgfpoint{\the\beamer@dimb}{4pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dimb}{1.8pt}}%
    {\pgfpoint{\the\beamer@dima}{0pt}}%
    {\pgfpoint{\the\beamer@tempdim}{0pt}}
    \pgfclosepath
    \pgffill
    \colorlet{bg}{parent.bg}
    \usebeamercolor[fg]{button border}
    \pgfqmoveto{0}{0}
    \pgfqcurveto{-2.2}{0}{-4}{1.8}{-4}{4}
    \pgfqcurveto{-4}{6.2}{-2.2}{8}{0}{8}
    \pgflineto{\pgfpoint{\the\beamer@tempdim}{8pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dima}{8pt}}%
    {\pgfpoint{\the\beamer@dimb}{6.2pt}}%
    {\pgfpoint{\the\beamer@dimb}{4pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dimb}{1.8pt}}%
    {\pgfpoint{\the\beamer@dima}{0pt}}%
    {\pgfpoint{\the\beamer@tempdim}{0pt}}
    \pgfclosepath
    \pgfstroke
  \end{pgfpicture}%
  \hskip-\beamer@tempdim%
  \box\beamer@tempbox%
  \kern4pt%
}


% Abstract

\defbeamertemplate*{abstract title}{pwr}
{%
  \begin{center}%
    \abstractname
  \end{center}%
}

\defbeamertemplate*{abstract begin}{pwr}
{\beamercolorbox[vmode]{abstract}\leftskip2em\rightskip2em plus 1fill\usebeamerfont*{abstract}}

\defbeamertemplate*{abstract end}{pwr}
{\medskip\endbeamercolorbox}


% Verse

\defbeamertemplate*{verse begin}{pwr}
{\beamercolorbox[vmode]{verse}}

\defbeamertemplate*{verse end}{pwr}
{\endbeamercolorbox}


% Quotation

\defbeamertemplate*{quotation begin}{pwr}
{\beamercolorbox[vmode]{quotation}}

\defbeamertemplate*{quotation end}{pwr}
{\endbeamercolorbox}


% Quote

\defbeamertemplate*{quote begin}{pwr}
{\beamercolorbox[vmode]{quote}}

\defbeamertemplate*{quote end}{pwr}
{\endbeamercolorbox}


% Footnotes

\defbeamertemplate*{footnote}{pwr}
{
  \parindent 1em\noindent%
  \raggedright
  \hbox to 1.8em{\hfil\insertfootnotemark}\insertfootnotetext\par%
}


% Captions

\defbeamertemplate*{caption}{pwr}
{%
  \raggedright
  {%
    \usebeamercolor[fg]{caption name}%
    \usebeamerfont*{caption name}%
    \insertcaptionname:%
  }
  \insertcaption\par
}


% Blocks

%wm \defbeamertemplateparent{blocks}{block begin,block end,%
%wm   block alerted begin,block alerted end,%
%wm   block example begin,block example end}
%wm {}

\defbeamertemplate*{block begin}{pwr}
{
  \par\vskip\medskipamount%
  \begin{beamercolorbox}[colsep*=.75ex]{block title}
    \usebeamerfont*{block title}\insertblocktitle%
  \end{beamercolorbox}%
  {\parskip0pt\par}%
  \ifbeamercolorempty[bg]{block title}
  {}
  {\ifbeamercolorempty[bg]{block body}{}{\nointerlineskip\vskip-0.5pt}}%
  \usebeamerfont{block body}%
  \begin{beamercolorbox}[colsep*=.75ex,vmode]{block body}%
    \ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}
\defbeamertemplate*{block end}{pwr}
{\end{beamercolorbox}\vskip\smallskipamount}

\defbeamertemplate*{block alerted begin}{pwr}
{
  \par\vskip\medskipamount%
  \begin{beamercolorbox}[colsep*=.75ex]{block title alerted}
    \usebeamerfont*{block title alerted}\insertblocktitle%
  \end{beamercolorbox}%
  {\parskip0pt\par}%
  \ifbeamercolorempty[bg]{block title alerted}
  {}
  {\ifbeamercolorempty[bg]{block body alerted}{}{\nointerlineskip\vskip-0.5pt}}%
  \usebeamerfont{block body alerted}%
  \begin{beamercolorbox}[colsep*=.75ex,vmode]{block body alerted}%
    \ifbeamercolorempty[bg]{block body alerted}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}

\defbeamertemplate*{block alerted end}{pwr}
{\end{beamercolorbox}\vskip\smallskipamount}


\defbeamertemplate*{block example begin}{pwr}
{
  \par\vskip\medskipamount%
  \begin{beamercolorbox}[colsep*=.75ex]{block title example}
    \usebeamerfont*{block title example}\insertblocktitle%
  \end{beamercolorbox}%
  {\parskip0pt\par}%
  \ifbeamercolorempty[bg]{block title example}
  {}
  {\ifbeamercolorempty[bg]{block body example}{}{\nointerlineskip\vskip-0.5pt}}%
  \usebeamerfont{block body example}%
  \begin{beamercolorbox}[colsep*=.75ex,vmode]{block body example}%
    \ifbeamercolorempty[bg]{block body example}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}
\defbeamertemplate*{block example end}{pwr}
{\end{beamercolorbox}\vskip\smallskipamount}




% Theorems

%\defbeamertemplateparent{theorems}{theorem begin,theorem end}
%{}

\defbeamertemplate*{theorem begin}{pwr}
{%
  \begin{\inserttheoremblockenv}
  {%
    \inserttheoremname
    \ifx\inserttheoremaddition\@empty\else\ (\inserttheoremaddition)\fi%
  }%
}

\defbeamertemplate*{theorem end}{pwr}
{\end{\inserttheoremblockenv}}


% Proofs
\defbeamertemplate*{proof begin}{pwr}
{\begin{block}{\insertproofname}}

\defbeamertemplate*{proof end}{pwr}
{\end{block}}

\defbeamertemplate*{qed symbol}{pwr}
{\openbox}




\mode
<all>
